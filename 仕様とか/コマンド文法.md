# 機体-アプリ間通信の文法
1~32バイトまでって、どうやって書いたらいいんですかね（呆れ）

## 何が必要？
通信したい内容をとりあえず箇条書きする
- アップリンク
    - コマンド
        - 機体の状態を取得
        - 外部・内部の電源切替
        - 飛行モードへの切り替え
        - 弁の開閉（将来的には？）
- ダウンリンク
    - テレメトリ
        - IMUからのデータ（9軸？）
        - GPSデータ
        - 各種計測装置の値(温度計、気圧計、etc)
        - 配管系計測装置の値（熱電対、配管圧力計、etc. やるかわからんけど）
        - 燃料・酸化剤タンクの残量（液酸、液ロケやるなら）
        - バッテリー（電圧・電流）
        - イベントログ（加圧、カプラ作動時など）
    - コマンドレスポンス
        - レスポンス（T/F）
        - テレメトリの手動取得（飛行待機モード用）
        - MCCとの情報同期通信

IM920SLの1パケットあたりの最大ユーザーデータが32バイトだけど、箇条書きの長さからみて、どう考えても１パケットに収まらない。
そのため、プレフィックスで内容ごとに分けるのとかどうだろう（知らんけど）。
あと、分けたところでテレメトリは１パケットで送るの無理がありそうだから、２～３パケットくらいに分割するのがよさそう（こなみ）。

## 文法どうするか
- １パケットでユーザーが使えるのは32バイトだから、プレフィックスをつけてデータの分類できるようにしたい。
- 初めの１バイトをプレフィックスに割り当てるのはどうだろうか。
- 256通りも分けないと思うけど、一応多めに取っておく。
- 入出力モードどうする？
    - キャラクター(ASCII)入出力モード
        - 可読性高い
        - 帯域圧迫
    - HEX(16進数)入出力モード
        - 可読性死
        - ちゃんと仕様書残さないと後で意味わからなくなる。

結論→ HEXのほうが良くね？
## １バイト目の値
|値|カテゴリ|
|---|---|
|00|コマンド|
|01|コマンドレスポンス|
|10|テレメトリデータセット|
|||
